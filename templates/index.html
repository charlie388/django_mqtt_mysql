<!DOCTYPE html>
<html lang="zh-tw">
<head>
  {% load static %}
  <meta charset="UTF-8" />      <!-- --> <!--Bootstrap網頁最多可分成12等份-->
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="icon" type="image/png" href="{% static "images/favicon-96x96.png" %}" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="{% static "images/favicon.svg" %}"  />
  <link rel="shortcut icon" href="{% static "images/favicon.ico" %}" />
  <link rel="apple-touch-icon" sizes="180x180" href="{% static "images/apple-touch-icon.png" %}" />
  <meta name="apple-mobile-web-app-title" content="MyWebSite" />
  <link rel="manifest" href="{% static "images/site.webmanifest" %}" />

  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    crossorigin="anonymous"
  />
     
  
  <link rel="stylesheet" href="{% static "css/style.css" %}" type="text/css" />

  <title>Group 3: MQTT temperature sensing application</title>
</head>
<body>
 
  <nav class="navbar navbar-expand-lg navbar-dark bg-secondary">
  <div class="container align-items-center">
    <a class="navbar-brand fw-semibold d-none d-lg-block">
      <img src="static/images/MQTT-logo2.png" alt="logo" width="180">
    </a>
    <div class="d-lg-none w-100 text-center py-2">
      <img src="static/images/MQTT-logo_lg.png" alt="logo"
           class="img-fluid"
           style="max-width:80vw;">
    </div>
    <button class="navbar-toggler ms-auto" type="button"
            data-bs-toggle="collapse" data-bs-target="#navbarContent"
            aria-controls="navbarContent" aria-expanded="false"
            aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div id="navbarContent" class="collapse navbar-collapse">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="#subscribe">Subscribe</a></li>
        <li class="nav-item"><a class="nav-link" href="#publish">Publish</a></li>
        <li class="nav-item"><a class="nav-link" href="#line">LINE 通知</a></li>
        <li class="nav-item"><a class="nav-link" href="/logout/">登出</a></li>
      </ul>
    </div>
  </div>
</nav>


  <main class="container my-4">
    
    <section id="subscribe" class="mb-4">
      <div class="card shadow-sm">
        <div class="card-header bg-white d-flex align-items-center justify-content-between">
          <h2 class="h5 mb-0 text-primary">MQTT Subscribe <span class="text-muted">( +/upload )</span></h2>
        </div>
        <div class="card-body p-0">
          <div class="table-responsive">
            <table id="myTable" class="table align-middle mb-0 ">
              <thead class="table-light">
                <tr>
                  <th scope="col" style="width: 64px;">ID</th>
                  <th scope="col">Device</th>
                  <th scope="col">Upload</th>
                  <th scope="col">Event Time</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>&nbsp;</td><td></td><td></td><td></td></tr>
                <tr><td>&nbsp;</td><td></td><td></td><td></td></tr>
                <tr><td>&nbsp;</td><td></td><td></td><td></td></tr>
                <tr><td>&nbsp;</td><td></td><td></td><td></td></tr>
                <tr><td>&nbsp;</td><td></td><td></td><td></td></tr>
                <tr><td>&nbsp;</td><td></td><td></td><td></td></tr>
                <tr><td>&nbsp;</td><td></td><td></td><td></td></tr>
                <tr><td>&nbsp;</td><td></td><td></td><td></td></tr>
                <tr><td>&nbsp;</td><td></td><td></td><td></td></tr>
                <tr><td>&nbsp;</td><td></td><td></td><td></td></tr>
                <tr><td>&nbsp;</td><td></td><td></td><td></td></tr>
                <tr><td>&nbsp;</td><td></td><td></td><td></td></tr>
                <tr><td>&nbsp;</td><td></td><td></td><td></td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </section>

    <section id="publish" class="mb-4">
      <div class="card shadow-sm">
        <div class="card-header bg-white">
          <h1 class="h4 mb-0 text-primary"  >MQTT Publish</h1>
        </div>
        <div class="card-body">
          <form id="myForm" class="row g-3">
            <div class="col-12 col-md-6">
              <label for="topic" class="form-label">Topic</label>
              <input
                type="text"
                name="topic"
                id="topic"
                class="form-control"
                value="{% if device %}{{ device }}/cmd{% else %}{% endif %}"
              />
            </div>
            <div class="col-12 col-md-6">
              <label for="msg" class="form-label">Message</label>
              <textarea
                name="msg"
                id="msg"
                class="form-control"
                rows="3"
              >2</textarea>
            </div>
            <div class="col-12 d-flex gap-2">
              <input type="submit" class="btn btn-danger" value="Submit" />
              <input type="reset" class="btn btn-outline-secondary" value="Reset" />
            </div>
          </form>
        </div>
      </div>
    </section>

    <section id="line" class="mb-5">
      <div class="card shadow-sm">
        <div class="card-header bg-white d-flex align-items-center justify-content-between">
          <h2 class="h5 mb-0 text-primary">LINE 通知</h2>
        </div>
        <div class="card-body">
          <h3 class="h5 mb-3">
            MQTT publish topic: <code>0/upload</code>, msg: <code>{"temp": 50.1}</code>
          </h3>
          <ul class="mb-4">
            <li>只要 <code>temp &gt; 50.0</code> 就會發 LINE 訊息通知。</li>
            <li>若需實驗，請加入個人 LINE 官方帳號：</li>
          </ul>

          <div class="d-flex flex-column flex-sm-row align-items-start align-items-sm-center gap-3">
            <a href="https://lin.ee/SOpGwyO" class="btn btn-secondary" target="_blank">
              <img
              src="https://scdn.line-apps.com/n/line_add_friends/btn/zh-Hant.png"
              alt="加入LINE 好友按鈕"
              height="25" width="150px"
              class="img-fluid"
            />
            </a>
          
          </div>

          <div class="text-center mt-4">
            <img
              src="https://qr-official.line.me/gs/M_693zsvil_BW.png?oat_content=qr"
              alt="LINE QR Code"
              class="img-fluid rounded border"
              style="max-width: 220px;"
            />
          </div>
        </div>
      </div>
    </section>
  </main>

  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    crossorigin="anonymous"
  ></script>

  <script src="{% static "myjs.js" %}"></script>
</body>
</html>